/* ============================================================
   BASE.CSS — Shared across all VisualDSA pages
   ============================================================ */

/* ── RESET ── */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

/* ── TOKENS ── */
:root {
  --night:  #06050f;
  --deep:   #0d0b1e;
  --card:   #0a0818;
  --green:  #3dff9a;  --gd: #1a8a4a;
  --pink:   #ff3cac;  --pd: #8a0050;
  --blue:   #3cacff;  --bd: #1a5a8a;
  --yellow: #ffd60a;  --yd: #8a7000;
  --purple: #a259ff;  --pud:#5a2090;
  --orange: #ff6b35;
  --white:  #f0eeff;
  --muted:  rgba(240,238,255,.38);
  --border: rgba(255,255,255,.10);
}

/* ── BODY ── */
html { scroll-behavior: smooth; }
body {
  background: var(--night);
  color: var(--white);
  font-family: 'VT323', monospace;
  overflow-x: hidden;
  cursor: none;
}

/* ── SCANLINES ── */
body::after {
  content: '';
  position: fixed; inset: 0; z-index: 9990;
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg, transparent, transparent 2px,
    rgba(0,0,0,.07) 2px, rgba(0,0,0,.07) 4px
  );
}
body::before {
  content: '';
  position: fixed; inset: 0; z-index: 9989;
  pointer-events: none;
  background: radial-gradient(ellipse at center, transparent 55%, rgba(0,0,0,.65) 100%);
}

/* ── CURSOR ── */
.cur {
  position: fixed; width: 20px; height: 20px;
  pointer-events: none; z-index: 9999;
  transform: translate(-50%,-50%);
  font-size: 18px; line-height: 1;
  image-rendering: pixelated;
}
.cur-r {
  position: fixed; width: 40px; height: 40px;
  pointer-events: none; z-index: 9998;
  transform: translate(-50%,-50%);
  border: 3px solid rgba(61,255,154,.55);
  clip-path: polygon(
    0 5px,5px 5px,5px 0,calc(100% - 5px) 0,calc(100% - 5px) 5px,100% 5px,
    100% calc(100% - 5px),calc(100% - 5px) calc(100% - 5px),
    calc(100% - 5px) 100%,5px 100%,5px calc(100% - 5px),0 calc(100% - 5px)
  );
}

/* ── BG CANVAS ── */
#bgC {
  position: fixed; inset: 0; z-index: 0;
  pointer-events: none;
  image-rendering: pixelated;
}

/* ── PIXEL BUTTON ── */
.px-btn {
  display: inline-flex; align-items: center; gap: 7px;
  padding: 10px 22px;
  font-family: 'Press Start 2P', monospace; font-size: 9px;
  cursor: none; text-decoration: none; border: none;
  clip-path: polygon(
    0 4px,4px 4px,4px 0,calc(100% - 4px) 0,
    calc(100% - 4px) 4px,100% 4px,100% calc(100% - 4px),
    calc(100% - 4px) calc(100% - 4px),calc(100% - 4px) 100%,
    4px 100%,4px calc(100% - 4px),0 calc(100% - 4px)
  );
  transition: transform .08s, box-shadow .08s;
  position: relative; white-space: nowrap;
}
.px-btn-g {
  background: var(--green); color: #000;
  box-shadow: inset -3px -3px 0 var(--gd), inset 3px 3px 0 rgba(255,255,255,.25), 4px 4px 0 var(--gd);
}
.px-btn-g:hover { transform: translate(-2px,-2px); box-shadow: inset -3px -3px 0 var(--gd), inset 3px 3px 0 rgba(255,255,255,.25), 6px 6px 0 var(--gd); }
.px-btn-g:active { transform: translate(2px,2px); box-shadow: none; }

.px-btn-r {
  background: var(--pink); color: #000;
  box-shadow: inset -3px -3px 0 var(--pd), inset 3px 3px 0 rgba(255,255,255,.2), 4px 4px 0 var(--pd);
}
.px-btn-r:hover { transform: translate(-2px,-2px); box-shadow: inset -3px -3px 0 var(--pd), inset 3px 3px 0 rgba(255,255,255,.2), 6px 6px 0 var(--pd); }
.px-btn-r:active { transform: translate(2px,2px); box-shadow: none; }

.px-btn-b {
  background: var(--blue); color: #000;
  box-shadow: inset -3px -3px 0 var(--bd), inset 3px 3px 0 rgba(255,255,255,.2), 4px 4px 0 var(--bd);
}
.px-btn-b:hover { transform: translate(-2px,-2px); box-shadow: inset -3px -3px 0 var(--bd), inset 3px 3px 0 rgba(255,255,255,.2), 6px 6px 0 var(--bd); }

.px-btn-y {
  background: var(--yellow); color: #000;
  box-shadow: inset -3px -3px 0 var(--yd), inset 3px 3px 0 rgba(255,255,255,.2), 4px 4px 0 var(--yd);
}
.px-btn-y:hover { transform: translate(-2px,-2px); }

.px-btn-p {
  background: var(--purple); color: #000;
  box-shadow: inset -3px -3px 0 var(--pud), inset 3px 3px 0 rgba(255,255,255,.2), 4px 4px 0 var(--pud);
}
.px-btn-p:hover { transform: translate(-2px,-2px); }

.px-btn-o {
  background: rgba(255,255,255,.07); color: var(--white);
  box-shadow: inset -3px -3px 0 rgba(0,0,0,.4), inset 3px 3px 0 rgba(255,255,255,.07), 4px 4px 0 rgba(0,0,0,.4);
}
.px-btn-o:hover { background: rgba(255,255,255,.12); }

/* ── CHIP ── */
.chip {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 4px 14px;
  font-family: 'Press Start 2P', monospace; font-size: 9px;
  border: 2px solid;
  clip-path: polygon(0 3px,3px 3px,3px 0,calc(100% - 3px) 0,calc(100% - 3px) 3px,100% 3px,100% calc(100% - 3px),calc(100% - 3px) calc(100% - 3px),calc(100% - 3px) 100%,3px 100%,3px calc(100% - 3px),0 calc(100% - 3px));
}
.chip-g { color: var(--green); border-color: var(--green); background: rgba(61,255,154,.07); }
.chip-r { color: var(--pink);  border-color: var(--pink);  background: rgba(255,60,172,.07); }
.chip-b { color: var(--blue);  border-color: var(--blue);  background: rgba(60,172,255,.07); }
.chip-y { color: var(--yellow);border-color: var(--yellow);background: rgba(255,214,10,.07); }
.chip-p { color: var(--purple);border-color: var(--purple);background: rgba(162,89,255,.07); }

/* ── NAV ── */
nav {
  position: fixed; top: 0; left: 0; right: 0; z-index: 500;
  height: 64px; display: flex; align-items: center; justify-content: space-between;
  padding: 0 48px;
  background: rgba(6,5,15,.94);
  border-bottom: 3px solid transparent;
  border-image: linear-gradient(90deg, var(--green), var(--blue), var(--purple)) 1;
}
.nav-logo {
  font-family: 'Press Start 2P', monospace; font-size: 13px;
  color: var(--green);
  text-shadow: 2px 2px 0 var(--gd), 0 0 16px rgba(61,255,154,.5);
  cursor: none; animation: flicker 6s infinite;
  text-decoration: none;
}
.nav-links { display: flex; gap: 4px; list-style: none; }
.nav-links li a {
  font-family: 'Press Start 2P', monospace; font-size: 9px;
  padding: 8px 12px; color: var(--muted);
  text-decoration: none; cursor: none; transition: .1s; display: block;
  clip-path: polygon(0 3px,3px 3px,3px 0,calc(100% - 3px) 0,calc(100% - 3px) 3px,100% 3px,100% calc(100% - 3px),calc(100% - 3px) calc(100% - 3px),calc(100% - 3px) 100%,3px 100%,3px calc(100% - 3px),0 calc(100% - 3px));
}
.nav-links li a:hover, .nav-links li a.active   { color: var(--green); background: rgba(61,255,154,.08); text-shadow: 0 0 8px var(--green); }
.nav-links li a.battle-link:hover { color: var(--pink);   background: rgba(255,60,172,.08); text-shadow: 0 0 8px var(--pink); }
.nav-links li a.learn-link:hover  { color: var(--blue);   background: rgba(60,172,255,.08); text-shadow: 0 0 8px var(--blue); }
.nav-cta { display: flex; gap: 8px; align-items: center; }

/* ── SCROLL REVEAL ── */
.reveal { opacity: 0; transform: translateY(24px); transition: opacity .5s steps(6), transform .5s steps(6); }
.reveal.from-l { transform: translateX(-24px); }
.reveal.from-r { transform: translateX(24px); }
.reveal.si      { transform: scale(.93); }
.reveal.vis     { opacity: 1; transform: none; }

/* ── TICKER ── */
.ticker {
  overflow: hidden;
  border-top: 3px solid var(--yellow); border-bottom: 3px solid var(--yellow);
  padding: 8px 0; background: rgba(20,15,0,.7);
  position: relative; z-index: 1;
}
.t-track { display: flex; animation: ticker 22s linear infinite; width: max-content; }
.ti { display: flex; align-items: center; gap: 10px; padding: 0 36px; font-size: 18px; color: var(--muted); white-space: nowrap; }
.ti .ac2 { color: var(--yellow); font-family: 'Press Start 2P', monospace; font-size: 10px; }
.ts { color: var(--yellow); }

/* ── SECTION ── */
.sec { position: relative; z-index: 1; }
.sw { max-width: 1100px; margin: 0 auto; padding: 80px 60px; }
.sttl { font-family: 'Press Start 2P', monospace; font-size: clamp(16px,2.5vw,28px); line-height: 1.6; color: var(--white); margin-bottom: 10px; text-shadow: 3px 3px 0 rgba(0,0,0,.5); }
.ssub { font-size: 20px; color: var(--muted); line-height: 1.5; max-width: 500px; }

/* ── FOOTER ── */
footer {
  position: relative; z-index: 1;
  border-top: 3px solid var(--border);
  padding: 36px 56px;
  display: flex; align-items: center; justify-content: space-between;
}
.fl  { font-family: 'Press Start 2P', monospace; font-size: 13px; color: var(--green); text-shadow: 2px 2px 0 var(--gd); }
.fli { display: flex; gap: 20px; }
.fli a { font-size: 17px; color: var(--muted); text-decoration: none; transition: .1s; }
.fli a:hover { color: var(--green); }
.fc2 { font-size: 15px; color: rgba(255,255,255,.2); }

/* ── KEYFRAMES ── */
@keyframes flicker {
  0%,100%{opacity:1;} 45%{opacity:1;} 46%{opacity:.3;} 47%{opacity:1;} 92%{opacity:1;} 93%{opacity:.5;} 94%{opacity:1;}
}
@keyframes blink    { 0%,49%{opacity:1;} 50%,100%{opacity:0;} }
@keyframes ticker   { from{transform:translateX(0);} to{transform:translateX(-50%);} }
@keyframes bounce   { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-6px);} }
@keyframes fade-up  { from{opacity:0;transform:translateY(20px);} to{opacity:1;transform:none;} }
@keyframes px-pulse { 0%,100%{box-shadow:3px 3px 0 rgba(162,89,255,.4);} 50%{box-shadow:5px 5px 0 rgba(162,89,255,.7);} }
@keyframes found-pulse { 0%,100%{background:rgba(61,255,154,.12);} 50%{background:rgba(61,255,154,.28);} }
@keyframes val-flash { 0%,100%{color:var(--green);} 50%{color:var(--yellow);} }

/* ── AUTH MODAL OVERLAY ── */
.auth-modal-overlay {
  position: fixed; inset: 0; z-index: 10000;
  background: rgba(0,0,0,0.8); backdrop-filter: blur(4px);
  display: flex; align-items: center; justify-content: center;
  opacity: 1; transition: opacity 0.2s;
}
.auth-modal-overlay.hidden {
  opacity: 0; pointer-events: none;
}
.auth-modal {
  background: var(--card); border: 4px solid var(--green);
  box-shadow: 8px 8px 0 var(--gd), 0 0 30px rgba(61,255,154,.2);
  padding: 30px; width: 100%; max-width: 400px; position: relative;
  clip-path: polygon(0 8px,8px 8px,8px 0,calc(100% - 8px) 0,calc(100% - 8px) 8px,100% 8px,100% calc(100% - 8px),calc(100% - 8px) calc(100% - 8px),calc(100% - 8px) 100%,8px 100%,8px calc(100% - 8px),0 calc(100% - 8px));
  transform: translateY(0); transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.auth-modal-overlay.hidden .auth-modal { transform: translateY(20px); }

.close-btn {
  position: absolute; top: 12px; right: 16px;
  background: none; border: none; color: var(--muted);
  font-family: 'Press Start 2P', monospace; font-size: 12px;
  cursor: none; transition: 0.1s;
}
.close-btn:hover { color: var(--pink); text-shadow: 0 0 8px var(--pink); }

.auth-tabs { display: flex; gap: 8px; margin-bottom: 20px; border-bottom: 2px solid var(--border); padding-bottom: 10px; }
.auth-tab {
  background: none; border: none; color: var(--muted);
  font-family: 'Press Start 2P', monospace; font-size: 9px;
  cursor: none; padding: 6px 12px; transition: 0.1s;
}
.auth-tab.active { color: var(--green); background: rgba(61,255,154,.1); border: 2px solid var(--green); }

.auth-form { display: flex; flex-direction: column; gap: 12px; }
.auth-input {
  background: rgba(0,0,0,.6); border: 3px solid var(--border);
  padding: 12px 14px; font-family: 'VT323', monospace; font-size: 20px; color: var(--white);
  outline: none; cursor: none;
  clip-path: polygon(0 4px,4px 4px,4px 0,calc(100% - 4px) 0,calc(100% - 4px) 4px,100% 4px,100% calc(100% - 4px),calc(100% - 4px) calc(100% - 4px),calc(100% - 4px) 100%,4px 100%,4px calc(100% - 4px),0 calc(100% - 4px));
}
.auth-input:focus { border-color: var(--green); box-shadow: 3px 3px 0 var(--gd); }